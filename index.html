<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sorriso Perfeito | Clínica Odontológica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        scroll-behavior: smooth;
      }
      @keyframes bounce-slow {
        0%, 100% { transform: translateY(-5%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
        50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
      }
      .animate-bounce-slow {
        animation: bounce-slow 3s infinite;
      }
      .chat-scrollbar::-webkit-scrollbar {
        width: 4px;
      }
      .chat-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .chat-scrollbar::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
      }
    </style>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0",
    "@google/genai": "https://esm.sh/@google/genai@1.3.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  </head>
  <body>
    <div id="root"></div>

    <script type="module">
      import React, { useState, useEffect, useRef } from 'react';
      import ReactDOM from 'react-dom/client';
      import { 
        Sparkles, Stethoscope, ShieldCheck, Smile, Clock, Award, 
        HeartPulse, Syringe, Menu, X, Phone, MapPin, Instagram, 
        Facebook, Calendar, CheckCircle2, Send, Mail, User, Bot, 
        Loader2, Star, MessageCircle
      } from 'lucide-react';
      import { GoogleGenAI } from "@google/genai";

      // --- CONFIG & CONSTANTS ---
      const SERVICES_DATA = [
        { id: '1', title: 'Clareamento Dental', description: 'Transforme seu sorriso com nossas técnicas avançadas de clareamento a laser e caseiro.', icon: Sparkles },
        { id: '2', title: 'Implantes Dentários', description: 'Recupere sua confiança e funcionalidade com implantes de alta durabilidade e estética natural.', icon: ShieldCheck },
        { id: '3', title: 'Ortodontia Moderna', description: 'Aparelhos invisíveis e convencionais para alinhar seu sorriso de forma rápida e confortável.', icon: Smile },
        { id: '4', title: 'Odontopediatria', description: 'Cuidado especializado e lúdico para garantir a saúde bucal das crianças desde cedo.', icon: HeartPulse },
        { id: '5', title: 'Cirurgia Oral', description: 'Procedimentos seguros realizados por especialistas experientes em ambiente esterilizado.', icon: Syringe },
        { id: '6', title: 'Check-up Preventivo', description: 'Limpeza profunda e diagnóstico precoce para evitar problemas futuros e manter a saúde em dia.', icon: Stethoscope }
      ];

      const TESTIMONIALS_DATA = [
        { id: '1', name: 'Ana Silva', text: 'A melhor experiência que já tive em um dentista. Atendimento impecável e tecnologia de ponta!', rating: 5, image: 'https://picsum.photos/seed/ana/100/100' },
        { id: '2', name: 'Ricardo Lima', text: 'Fiz meus implantes aqui e o resultado ficou super natural. Recomendo muito a equipe.', rating: 5, image: 'https://picsum.photos/seed/ricardo/100/100' },
        { id: '3', name: 'Juliana Costa', text: 'Minha filha adora o atendimento infantil. Não tem mais medo de ir ao dentista!', rating: 5, image: 'https://picsum.photos/seed/juliana/100/100' }
      ];

      const SYSTEM_PROMPT = `Você é a "SorriaBot", assistente virtual da Clínica Sorriso Perfeito. Ajude pacientes com dúvidas sobre odontologia, explique procedimentos e dê dicas de cuidados. Regras: Profissional, educada, sem diagnósticos definitivos (sempre sugira avaliação), e em caso de dor intensa oriente urgência.`;

      // --- GEMINI SERVICE ---
      const chatWithGemini = async (message, history) => {
        try {
          const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
          const contents = history.map(h => ({
            role: h.role === 'assistant' ? 'model' : 'user',
            parts: [{ text: h.content }]
          }));
          contents.push({ role: 'user', parts: [{ text: message }] });

          const response = await ai.models.generateContent({
            model: 'gemini-3-flash-preview',
            contents: contents,
            config: {
              systemInstruction: SYSTEM_PROMPT,
              temperature: 0.7,
            },
          });
          return response.text || "Desculpe, não consegui processar sua dúvida agora.";
        } catch (error) {
          console.error("Gemini Error:", error);
          return "Houve um erro ao conectar com minha IA. Por favor, tente novamente mais tarde.";
        }
      };

      // --- COMPONENTS ---

      const Navbar = () => {
        const [isMenuOpen, setIsMenuOpen] = useState(false);
        const [scrolled, setScrolled] = useState(false);

        useEffect(() => {
          const handleScroll = () => setScrolled(window.scrollY > 20);
          window.addEventListener('scroll', handleScroll);
          return () => window.removeEventListener('scroll', handleScroll);
        }, []);

        const items = [
          { name: 'Início', href: '#home' },
          { name: 'Serviços', href: '#services' },
          { name: 'Sobre', href: '#about' },
          { name: 'Depoimentos', href: '#testimonials' },
          { name: 'Contato', href: '#contact' },
        ];

        return (
          <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white/90 backdrop-blur-md shadow-md py-3' : 'bg-transparent py-5'}`}>
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
              <div className="flex items-center">
                <span className="text-2xl font-bold text-blue-600 flex items-center">
                  <span className="bg-blue-600 text-white p-1 rounded-lg mr-2">S</span>
                  Sorriso Perfeito
                </span>
              </div>
              <div className="hidden md:flex items-center space-x-8">
                {items.map(i => (
                  <a key={i.name} href={i.href} className="text-sm font-medium hover:text-blue-600 transition-colors">{i.name}</a>
                ))}
                <a href="#contact" className="bg-blue-600 text-white px-5 py-2 rounded-full text-sm font-semibold hover:bg-blue-700 transition-all">Agendar Agora</a>
              </div>
              <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="md:hidden text-slate-600">
                {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
              </button>
            </div>
            {isMenuOpen && (
              <div className="md:hidden bg-white border-b border-slate-100 p-4 space-y-2 animate-in slide-in-from-top-4 duration-300">
                {items.map(i => (
                  <a key={i.name} href={i.href} className="block py-2 text-slate-600 font-medium" onClick={() => setIsMenuOpen(false)}>{i.name}</a>
                ))}
                <a href="#contact" className="block w-full text-center bg-blue-600 text-white py-2 rounded-md font-bold mt-4">Agendar Agora</a>
              </div>
            )}
          </nav>
        );
      };

      const Hero = () => (
        <section id="home" className="relative min-h-[90vh] flex items-center pt-20 bg-white overflow-hidden">
          <div className="absolute top-0 right-0 -translate-y-1/2 translate-x-1/4 w-[600px] h-[600px] bg-blue-50 rounded-full blur-3xl opacity-50 -z-10"></div>
          <div className="max-w-7xl mx-auto px-4 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div className="space-y-8 animate-in slide-in-from-left duration-700">
              <div className="inline-flex items-center px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100">
                NOVIDADE: Scanner Intraoral 3D
              </div>
              <h1 className="text-5xl lg:text-7xl font-extrabold text-slate-900 leading-tight">
                Sua saúde bucal em <span className="text-blue-600">primeiro lugar.</span>
              </h1>
              <p className="text-lg text-slate-600 max-w-lg leading-relaxed">
                Cuidados de alta qualidade com tecnologia de ponta para transformar seu sorriso e sua autoestima.
              </p>
              <div className="flex flex-col sm:flex-row gap-4">
                <a href="#contact" className="flex items-center justify-center gap-2 bg-blue-600 text-white px-8 py-4 rounded-full font-bold shadow-lg hover:bg-blue-700 transition-all">
                  <Calendar size={20} /> Agendar Avaliação
                </a>
              </div>
            </div>
            <div className="relative animate-in zoom-in duration-700">
              <img src="https://images.unsplash.com/photo-1629909613654-28e377c37b09?q=80&w=2070&auto=format&fit=crop" className="rounded-2xl shadow-2xl border-4 border-white" alt="Dentista" />
              <div className="absolute -bottom-6 -left-6 bg-white p-6 rounded-xl shadow-xl hidden md:block animate-bounce-slow">
                <div className="flex items-center gap-4">
                  <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600"><CheckCircle2 size={24} /></div>
                  <div><p className="text-xs text-slate-500 font-medium">Pacientes Felizes</p><p className="text-xl font-bold">+5.000</p></div>
                </div>
              </div>
            </div>
          </div>
        </section>
      );

      const Services = () => (
        <section id="services" className="py-24 bg-slate-50">
          <div className="max-w-7xl mx-auto px-4 text-center">
            <h2 className="text-blue-600 font-semibold uppercase text-sm mb-4">Tratamentos</h2>
            <p className="text-3xl md:text-4xl font-bold text-slate-900 mb-16">Serviços Completos</p>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {SERVICES_DATA.map(s => (
                <div key={s.id} className="bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-all group text-left">
                  <div className="w-14 h-14 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                    <s.icon size={28} />
                  </div>
                  <h3 className="text-xl font-bold mb-3">{s.title}</h3>
                  <p className="text-slate-600 text-sm leading-relaxed mb-6">{s.description}</p>
                  <a href="#contact" className="text-blue-600 font-bold text-sm">Saiba mais →</a>
                </div>
              ))}
            </div>
          </div>
        </section>
      );

      const About = () => (
        <section id="about" className="py-24 bg-white px-4">
          <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-16 items-center">
            <div className="grid grid-cols-2 gap-4">
              <img src="https://images.unsplash.com/photo-1576091160550-2173dad99978?q=80&w=2070&auto=format&fit=crop" className="rounded-2xl shadow-lg translate-y-8" alt="Clínica" />
              <img src="https://images.unsplash.com/photo-1445527815219-ecbfec67492e?q=80&w=2070&auto=format&fit=crop" className="rounded-2xl shadow-lg" alt="Equipe" />
            </div>
            <div className="space-y-8">
              <h2 className="text-blue-600 font-bold uppercase text-sm">Sobre Nós</h2>
              <h3 className="text-3xl md:text-4xl font-bold text-slate-900">Referência em Odontologia Moderna</h3>
              <p className="text-slate-600">Redefinimos a experiência de ir ao dentista com escuta atenta, conforto e as tecnologias mais avançadas do mercado.</p>
              <div className="space-y-4">
                <div className="flex gap-4"><Award className="text-blue-600" /> <div><p className="font-bold">Especialistas Certificados</p><p className="text-xs text-slate-500">Mestres e doutores em diversas áreas.</p></div></div>
                <div className="flex gap-4"><ShieldCheck className="text-green-600" /> <div><p className="font-bold">Segurança Máxima</p><p className="text-xs text-slate-500">Protocolos rígidos de biossegurança.</p></div></div>
              </div>
            </div>
          </div>
        </section>
      );

      const Testimonials = () => (
        <section id="testimonials" className="py-24 bg-slate-50">
          <div className="max-w-7xl mx-auto px-4 text-center">
            <h2 className="text-3xl font-bold mb-16">O que nossos pacientes dizem</h2>
            <div className="grid md:grid-cols-3 gap-8">
              {TESTIMONIALS_DATA.map(t => (
                <div key={t.id} className="bg-white p-8 rounded-3xl border shadow-sm space-y-4">
                  <div className="flex justify-center text-yellow-400">
                    {[...Array(t.rating)].map((_, i) => <Star key={i} size={16} fill="currentColor" />)}
                  </div>
                  <p className="italic text-slate-600">"{t.text}"</p>
                  <div className="flex items-center justify-center gap-3">
                    <img src={t.image} className="w-10 h-10 rounded-full border shadow-sm" alt={t.name} />
                    <p className="font-bold text-sm">{t.name}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </section>
      );

      const Contact = () => {
        const [sent, setSent] = useState(false);
        const [loading, setLoading] = useState(false);

        const handleSubmit = (e) => {
          e.preventDefault();
          setLoading(true);
          setTimeout(() => { setLoading(false); setSent(true); }, 1000);
        };

        return (
          <section id="contact" className="py-24 bg-white px-4">
            <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-16">
              <div className="space-y-8">
                <h2 className="text-3xl font-bold">Agende sua Consulta</h2>
                <div className="space-y-6">
                  <div className="flex items-center gap-4"><div className="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center"><Phone size={20} /></div> (11) 9999-9999</div>
                  <div className="flex items-center gap-4"><div className="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center"><Mail size={20} /></div> contato@sorriso.com.br</div>
                  <div className="flex items-center gap-4"><div className="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center"><MapPin size={20} /></div> Av. Paulista, 1000 - SP</div>
                </div>
              </div>
              <div className="bg-slate-50 p-8 rounded-3xl border">
                {sent ? (
                  <div className="text-center py-10 space-y-4">
                    <div className="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto"><CheckCircle2 size={32} /></div>
                    <h3 className="text-2xl font-bold">Enviado com sucesso!</h3>
                    <p className="text-slate-600">Retornaremos o contato em breve.</p>
                    <button onClick={() => setSent(false)} className="text-blue-600 font-bold underline">Nova solicitação</button>
                  </div>
                ) : (
                  <form onSubmit={handleSubmit} className="space-y-4">
                    <input required placeholder="Nome Completo" className="w-full p-3 rounded-xl border outline-none focus:ring-2 focus:ring-blue-100" />
                    <input required type="tel" placeholder="WhatsApp" className="w-full p-3 rounded-xl border outline-none focus:ring-2 focus:ring-blue-100" />
                    <select className="w-full p-3 rounded-xl border bg-white outline-none focus:ring-2 focus:ring-blue-100">
                      <option>Limpeza / Checkup</option>
                      <option>Clareamento</option>
                      <option>Implantes</option>
                      <option>Ortodontia</option>
                    </select>
                    <button disabled={loading} className="w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 transition-all disabled:opacity-50">
                      {loading ? 'Processando...' : 'Solicitar Agendamento'}
                    </button>
                  </form>
                )}
              </div>
            </div>
          </section>
        );
      };

      const ChatBot = () => {
        const [isOpen, setIsOpen] = useState(false);
        const [messages, setMessages] = useState([{ role: 'assistant', content: 'Olá! Sou a SorriaBot. Como posso ajudar você hoje?' }]);
        const [input, setInput] = useState('');
        const [loading, setLoading] = useState(false);
        const scrollRef = useRef(null);

        useEffect(() => { if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight; }, [messages, loading]);

        const handleSend = async () => {
          if (!input.trim() || loading) return;
          const userText = input.trim();
          setInput('');
          setMessages(prev => [...prev, { role: 'user', content: userText }]);
          setLoading(true);
          const response = await chatWithGemini(userText, messages);
          setMessages(prev => [...prev, { role: 'assistant', content: response }]);
          setLoading(false);
        };

        return (
          <div className="fixed bottom-6 right-6 z-[100] flex flex-col items-end">
            {isOpen && (
              <div className="w-[350px] sm:w-[400px] h-[500px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden border mb-4 animate-in slide-in-from-bottom-4 duration-300">
                <div className="bg-blue-600 p-4 text-white flex justify-between items-center">
                  <span className="font-bold flex items-center gap-2"><Bot size={20} /> SorriaBot AI</span>
                  <button onClick={() => setIsOpen(false)}><X size={20} /></button>
                </div>
                <div ref={scrollRef} className="flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 chat-scrollbar">
                  {messages.map((m, i) => (
                    <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                      <div className={`p-3 rounded-2xl max-w-[85%] text-sm ${m.role === 'user' ? 'bg-blue-600 text-white rounded-tr-none shadow-md shadow-blue-100' : 'bg-white border rounded-tl-none shadow-sm'}`}>
                        {m.content}
                      </div>
                    </div>
                  ))}
                  {loading && <div className="text-xs text-slate-400 animate-pulse flex items-center gap-2"><Loader2 size={12} className="animate-spin" /> Pensando...</div>}
                </div>
                <div className="p-4 border-t flex gap-2">
                  <input value={input} onChange={e => setInput(e.target.value)} onKeyPress={e => e.key === 'Enter' && handleSend()} placeholder="Pergunte algo..." className="flex-1 text-sm bg-slate-100 p-3 rounded-xl outline-none" />
                  <button onClick={handleSend} className="bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700"><Send size={18} /></button>
                </div>
              </div>
            )}
            <button onClick={() => setIsOpen(!isOpen)} className="w-16 h-16 bg-blue-600 text-white rounded-full shadow-2xl flex items-center justify-center animate-bounce-slow transition-transform active:scale-90">
              {isOpen ? <X size={28} /> : <MessageCircle size={28} />}
            </button>
          </div>
        );
      };

      const App = () => (
        <div className="bg-slate-50 min-h-screen">
          <Navbar />
          <Hero />
          <Services />
          <About />
          <Testimonials />
          <Contact />
          <ChatBot />
          <footer className="bg-slate-900 text-slate-500 py-12 px-4 text-center text-sm">
            <p>&copy; {new Date().getFullYear()} Sorriso Perfeito. Todos os direitos reservados.</p>
          </footer>
        </div>
      );

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
